@let game = game$ | async; @let player1InputtedQuestions =
player1InputtedQuestions$ | async; @let player2InputtedQuestions =
player2InputtedQuestions$ | async;
<div class="flex flex-col items-center">
  <div class="w-full flex flex-row items-center justify-between p-3">
    <button (click)="onBackButtonClick()" mat-flat-button>Back</button>
    <div class="font-bold text-2xl">
      {{ game?.name }}: {{ game?.player1 }} and {{ game?.player2 }}
    </div>
    <div class="w-24"></div>
  </div>
  @if(!player1InputtedQuestions) {
  <div class="text-xl mb-3">Questions for {{ game?.player1 }}</div>
  <form [formGroup]="playerQuestions" class="w-full">
    <div
      formArrayName="questions"
      class="w-full flex flex-col gap-3 items-center"
    >
      @for(currentControl of playerQuestions.controls.questions.controls; track
      currentControl){
      <mat-form-field class="w-full px-3">
        <mat-label>Question {{ $index + 1 }}</mat-label>
        <textarea
          class="w-full"
          matInput
          type="text"
          [formControlName]="$index"
        ></textarea>
      </mat-form-field>
      }
    </div>
  </form>
  <button
    class="w-44 mb-3"
    mat-flat-button
    (click)="onQuestionsSubmit()"
    [disabled]="!playerQuestions.valid"
  >
    Submit
  </button>
  } @if(player1InputtedQuestions && !player2InputtedQuestions) {
  <div class="text-xl mb-3">Questions for {{ game?.player2 }}</div>
  <form [formGroup]="playerQuestions" class="w-full">
    <div
      formArrayName="questions"
      class="w-full flex flex-col gap-3 items-center"
    >
      @for(currentControl of playerQuestions.controls.questions.controls; track
      currentControl){
      <mat-form-field class="w-full px-3">
        <mat-label>Question {{ $index + 1 }}</mat-label>
        <textarea
          class="w-full"
          matInput
          type="text"
          [formControlName]="$index"
        ></textarea>
      </mat-form-field>
      }
    </div>
  </form>
  <button
    class="w-44 mb-3"
    mat-flat-button
    (click)="onQuestionsSubmit()"
    [disabled]="!playerQuestions.valid"
  >
    Submit
  </button>
  }
</div>
